version: 2

metrics:
  # Percentage metrics using ratio type with numerator and denominator

  - name: pct_users_with_planner_launch_activity
    description: "Percentage of users with planner launch activity within the selected dimensional context and time grain"
    type: ratio
    type_params:
      numerator: n_users_with_planner_launch_activity
      denominator: n_users_in_analysis
    label: "% Users with Planner Launch Activity"
    meta:
      semantic_model: "sem_user_activity_all_dimensions"

  - name: pct_users_with_app_launch_activity
    description: "Percentage of users with app launch activity within the selected dimensional context and time grain"
    type: ratio
    type_params:
      numerator: n_users_with_app_launch_activity
      denominator: n_users_in_analysis
    label: "% Users with App Launch Activity"
    meta:
      semantic_model: "sem_user_activity_all_dimensions"

  - name: pct_users_with_resource_download_activity
    description: "Percentage of users with resource download activity within the selected dimensional context and time grain"
    type: ratio
    type_params:
      numerator: n_users_with_resource_download_activity
      denominator: n_users_in_analysis
    label: "% Users with Resource Download Activity"
    meta:
      semantic_model: "sem_user_activity_all_dimensions"

  # - name: pct_users_with_music_action_activity
  #   description: "Percentage of users with music action activity within the selected dimensional context and time grain"
  #   type: ratio
  #   type_params:
  #     numerator: n_users_with_music_action_activity
  #     denominator: n_users_in_analysis
  #   label: "% Users with Music Action Activity"
  #   meta:
  #     semantic_model: "sem_user_activity_all_dimensions"
      

  # Example usage metrics for different time grains
  # - name: weekly_pct_users_with_planner_launch
  #   description: "Weekly percentage of users with planner launch activity (example of time grain specific metric)"
  #   type: ratio
  #   type_params:
  #     numerator: n_users_with_planner_launch_activity
  #     denominator: n_users_in_analysis
  #   label: "Weekly % Users with Planner Launch"
  #   meta:
  #     semantic_model: "sem_user_activity_all_dimensions"
  #     format: "percent"
  #     time_granularity: "week"
  #     example_usage: "Filters to weekly time grain + any dimensional context (program, district, etc.)"