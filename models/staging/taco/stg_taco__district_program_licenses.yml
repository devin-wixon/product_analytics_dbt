version: 2

models:
  - name: stg_taco__district_program_licenses
    description: |
      Purpose: Tracks quantity and expiration dates for Lilypad program licenses.
      Granularity: One row per district program license. 
    columns:
      # source tests for unique district_program_license_id
      - name: district_program_license_id
        data_tests:
          - not_null
          - unique
      - name: district_id
        description: "{{ doc('district_id') }}"
        data_tests:
          - relationships:
              arguments:
                to: ref('stg_taco__districts')
                field: district_id
      - name: program_id
        data_tests:
          - relationships:
              arguments:
                to: ref('stg_craft__programs')
                field: program_id
      - name: license_start_date
        description: "{{ doc('license_start_date') }}"
      - name: updated_at_utc
        description: "{{ doc('updated_at_utc') }}"
