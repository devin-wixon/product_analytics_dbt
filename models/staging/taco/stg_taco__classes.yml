version: 2

models:
  - name: stg_taco__classes
    description: |
      Purpose: Classes data from the taco database with column typing and renaming.
      Granularity: One row per class.
    columns:
      - name: class_id
        data_tests:
          - not_null
          - unique
      - name: district_id
        data_tests:
          - relationships:
              arguments:
                to: ref('stg_taco__districts')
                field: district_id
                where: "dbt_valid_to IS NULL"
              config:
                severity: warn
      # - name: school_id
      #   data_tests:
      #     - relationships:
      #         arguments:
      #           to: ref('stg_taco__schools')
      #           field: school_id
      #         config:
      #           severity: warn