version: 2

models:
  - name: stg_taco__users
    description: |
      Purpose: Raw user data from the taco database with column typing and renaming.  
      Granularity: One row per user, defined by `user_id`.  
      Filters: None
    columns:
      # unique and not null testing in source for user_id; this will have dups due to snapshots
      - name: user_id
        description: "{{ doc('user_id') }}"
      - name: district_id
        description: "{{ doc('district_id') }}"
      - name: user_role
        description: "{{ doc('user_role') }}"
      - name: user_status
        description: "{{ doc('user_status') }}"
      - name: user_grades
        description: "{{ doc('user_grades') }}"
      - name: user_other_grades
        description: "{{ doc('user_other_grades') }}"
      - name: user_sourced_id
        description: "{{ doc('user_sourced_id') }}"
      - name: user_identifier
        description: "{{ doc('user_identifier') }}"
      - name: is_disable_auto_sync
        description: "{{ doc('is_disable_auto_sync') }}"
      - name: is_user_manually_added
        description: "{{ doc('is_manually_added') }}"
      - name: user_invite_status
        description: "{{ doc('user_invite_status') }}"
      - name: user_email_sent_utc
        description: "{{ doc('email_sent_utc') }}"
      - name: user_updated_at_utc
        description: "{{ doc('updated_at_utc') }}"
      # Commented out fields that aren't in the SQL
      # - name: user_settings
      #   description: "{{ doc('user_settings') }}"
      # - name: user_state_id
      #   description: "{{ doc('user_state_id') }}"
      # - name: dbt_updated_at
      #   description: "{{ doc('dbt_updated_at') }}"
      # - name: dbt_valid_from
      #   description: "{{ doc('dbt_valid_from') }}"
      # - name: dbt_valid_to
      #   description: "{{ doc('dbt_valid_to') }}"
      # - name: dbt_is_deleted
      #   description: "{{ doc('dbt_is_deleted') }}"
