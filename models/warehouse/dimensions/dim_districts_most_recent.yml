version: 2

models:
  - name: dim_districts_most_recent
    description: |
        Purpose: Provides most recent information on Taco districts.
        Granularity: One row per district.
        Filters: District record with the most recent `dbt_valid_from` date.
    columns:
      - name: district_id
        description: "{{ doc('district_id') }}"
        tests:
          - unique
          - not_null
      - name: district_name
        description: "{{ doc('district_name') }}"
      - name: district_address
        description: "{{ doc('district_address') }}"
      - name: district_city
        description: "{{ doc('district_city') }}"
      - name: district_state
        description: "{{ doc('district_state') }}"
      - name: district_state_international
        description: "{{ doc('district_state_international') }}"
      - name: district_type
        description: "{{ doc('district_type') }}"
      - name: is_district_enabled
        description: "{{ doc('is_district_enabled') }}"
      - name: district_website_slug
        description: "{{ doc('district_website_slug') }}"
      - name: district_settings
        description: "{{ doc('district_settings') }}"
      - name: district_general_settings
        description: "{{ doc('district_general_settings') }}"
      - name: is_district_auto_sync
        description: "{{ doc('is_district_auto_sync') }}"
      - name: district_sourced_id
        description: "{{ doc('district_sourced_id') }}"
      - name: district_identifier
        description: "{{ doc('district_identifier') }}"
      - name: district_sales_force_id
        description: "{{ doc('district_sales_force_id') }}"
      - name: district_mas_id
        description: "{{ doc('district_mas_id') }}"
      - name: district_sage_id
        description: "{{ doc('district_sage_id') }}"
      - name: district_last_sync_utc
        description: ""
      - name: district_updated_at_utc
        description: "{{ doc('district_updated_at_utc') }}"
      - name: roster_file_created_at_utc
        description: "{{ doc('roster_file_created_at_utc') }}"
      - name: auto_rostering_checked_at_utc
        description: "{{ doc('district_auto_rostering_checked_at') }}"
      - name: dbt_scd_id
        description: "{{ doc('dbt_scd_id') }}"
      - name: dbt_valid_from
        description: "{{ doc('dbt_valid_from') }}"
      - name: dbt_valid_to
        description: "{{ doc('dbt_valid_to') }}"
      - name: dbt_updated_at
        description: "{{ doc('dbt_updated_at') }}"
      - name: dbt_is_deleted
        description: "{{ doc('dbt_is_deleted') }}"
      - name: is_distributed_demo_district
        description: "{{ doc('is_distributed_demo_district') }}"
      - name: district_grades
        description: "{{ doc('district_grades') }}"
      - name: rostering_method
        description: "{{ doc('rostering_method') }}"
      - name: rostering_classlink_id
      - name: rostering_clever_id
      - name: rostering_upload_method
        description: "{{ doc('rostering_upload_method') }}"
      - name: rostering_rostering_type
        description: "{{ doc('rostering_rostering_type') }}"
      - name: rostering_state_id_field
        description: "{{ doc('rostering_state_id_field') }}"
      - name: rostering_is_active_send_invite
      - name: is_rostering_allow_users_without_class_or_school
      - name: is_selfservice_rostering_show_clever
        description: "{{ doc('is_selfservice_rostering_show_clever') }}"
      - name: is_selfservice_authentication_show_clever
        description: "{{ doc('is_selfservice_authentication_show_clever') }}"
      - name: authentication_provider
        description: "{{ doc('authentication_provider') }}"
      - name: authentication_login_field
      - name: authentication_classlink_settings_classlink_id
        description: "{{ doc('authentication_classlink_settings_classlink_id') }}"
      - name: authentication_clever_settings_clever_id
        description: "{{ doc('authentication_clever_settings_clever_id') }}"
      - name: authentication_clever_settings_provider_name
        description: "{{ doc('authentication_clever_settings_provider_name') }}"
      - name: authentication_saml_settings_provider_name
        description: "{{ doc('authentication_saml_settings_provider_name') }}"
      - name: authentication_saml_settings_metadata_document_source
        description: "{{ doc('authentication_saml_settings_metadata_document_source') }}"
      - name: is_onboarding_required
        description: "{{ doc('is_onboarding_required') }}"
      - name: user_pool_client_id
        description: "{{ doc('user_pool_client_id') }}"
